"use strict";
/**
 * config.ts
 *
 * api.goria.com
 * by AS3ICS
 *
 * Zach DeGeorge
 * zach@as3ics.com
 *
 * @format
 * @abstract Initialize config values from environment file
 *
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.MYSQL_HOST = exports.MONGODB_URL = exports.APP_LOGGING = exports.APP_PORT = exports.PRODUCTION = exports.ENVIRONMENT = exports.DEBUG = exports.NODE_ENV = void 0;
/* tslint:disable-next-line  no-var-requires error*/
require("dotenv/config");
const defined = (t) => t !== undefined && t !== null;
const trueVals = ["true", "1"];
const falseVals = ["false", "0"];
const env = (name) => {
    const raw = process.env[name];
    return raw;
};
const boolEnv = (name, fallback) => {
    const raw = env(name);
    if (!defined(raw)) {
        return false;
    }
    const normalizedEnv = raw.toLowerCase();
    if (trueVals.some((val) => val === normalizedEnv)) {
        return true;
    }
    if (falseVals.some((val) => val === normalizedEnv)) {
        return false;
    }
    if (fallback !== undefined) {
        return fallback;
    }
    throw new Error("Expected boolean value for env var: " + name + ".");
};
const requireEnv = (name, fallback) => {
    const raw = env(name);
    if (defined(raw) && raw !== "") {
        return raw;
    }
    if (fallback === undefined) {
        throw new Error("Missing required env var: " + name + ".");
    }
    return fallback;
};
const numberEnv = (name, fallback) => {
    const raw = env(name);
    const num = Number(raw);
    if (!isNaN(num)) {
        return num;
    }
    if (fallback === undefined) {
        throw new Error("Received " + raw + " for " + name + " but expected number.");
    }
    return fallback;
};
exports.NODE_ENV = requireEnv("NODE_ENV", "development");
exports.DEBUG = boolEnv("DEBUG", true);
exports.ENVIRONMENT = requireEnv("ENVIRONMENT", "development");
exports.PRODUCTION = boolEnv("PRODUCTION", false);
exports.APP_PORT = numberEnv("APP_PORT", 3000);
exports.APP_LOGGING = boolEnv("APP_LOGGING", true);
exports.MONGODB_URL = requireEnv("MONGODB_URL");
exports.MYSQL_HOST = requireEnv("MYSQL_HOST");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7OztHQVlHOzs7QUFFSCxvREFBb0Q7QUFDcEQsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRXpCLE1BQU0sT0FBTyxHQUFHLENBQUksQ0FBSSxFQUFxQyxFQUFFLENBQzdELENBQUMsS0FBSyxTQUFTLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQztBQUVoQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQixNQUFNLFNBQVMsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUVqQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQVksRUFBc0IsRUFBRTtJQUMvQyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRTlCLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFZLEVBQUUsUUFBa0IsRUFBVyxFQUFFO0lBQzVELE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUV0QixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFFRCxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFeEMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssYUFBYSxDQUFDLEVBQUU7UUFDakQsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLGFBQWEsQ0FBQyxFQUFFO1FBQ2xELE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFFRCxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7UUFDMUIsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFFRCxNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUN2RSxDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBRyxDQUFDLElBQVksRUFBRSxRQUFpQixFQUFVLEVBQUU7SUFDN0QsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXRCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7UUFDOUIsT0FBTyxHQUFHLENBQUM7S0FDWjtJQUVELElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtRQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztLQUM1RDtJQUVELE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLENBQUMsSUFBWSxFQUFFLFFBQWlCLEVBQVUsRUFBRTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEIsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXhCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBRUQsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFO1FBQzFCLE1BQU0sSUFBSSxLQUFLLENBQ2IsV0FBVyxHQUFHLEdBQUcsR0FBRyxPQUFPLEdBQUcsSUFBSSxHQUFHLHVCQUF1QixDQUM3RCxDQUFDO0tBQ0g7SUFFRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFFVyxRQUFBLFFBQVEsR0FBRyxVQUFVLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ2pELFFBQUEsS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDL0IsUUFBQSxXQUFXLEdBQUcsVUFBVSxDQUFDLGFBQWEsRUFBRSxhQUFhLENBQUMsQ0FBQztBQUN2RCxRQUFBLFVBQVUsR0FBRyxPQUFPLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBRTFDLFFBQUEsUUFBUSxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDdkMsUUFBQSxXQUFXLEdBQUcsT0FBTyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUUzQyxRQUFBLFdBQVcsR0FBRyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7QUFFeEMsUUFBQSxVQUFVLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDIn0=