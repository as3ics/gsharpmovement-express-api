"use strict";
/**
 * config.ts
 *
 * api.goria.com
 * by AS3ICS
 *
 * Zach DeGeorge
 * zach@as3ics.com
 *
 * @format
 * @abstract Initialize config values from environment file
 *
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.CONFIG = exports.MONGODB_DATABASE = exports.MONGODB_URL = exports.MAX_FILESIZE_MB = exports.APP_LOGGING = exports.APP_VERSION = exports.APP_PORT = exports.APP_HOSTNAME = exports.APP_NAME = exports.APP_BASE_URL = exports.APP_URL = exports.DEBUG_CACHE = exports.PRODUCTION = exports.ENVIRONMENT = exports.DEBUG = exports.NODE_ENV = void 0;
/* tslint:disable-next-line  no-var-requires error*/
require("dotenv/config");
const defined = (t) => t !== undefined && t !== null;
const trueVals = ["true", "1"];
const falseVals = ["false", "0"];
const env = (name) => {
    const raw = process.env[name];
    return raw;
};
const boolEnv = (name, fallback) => {
    const raw = env(name);
    if (!defined(raw)) {
        return false;
    }
    const normalizedEnv = raw.toLowerCase();
    if (trueVals.some((val) => val === normalizedEnv)) {
        return true;
    }
    if (falseVals.some((val) => val === normalizedEnv)) {
        return false;
    }
    if (fallback !== undefined) {
        return fallback;
    }
    throw new Error("Expected boolean value for env var: " + name + ".");
};
const requireEnv = (name, fallback) => {
    const raw = env(name);
    if (defined(raw) && raw !== "") {
        return raw;
    }
    if (fallback === undefined) {
        throw new Error("Missing required env var: " + name + ".");
    }
    return fallback;
};
const numberEnv = (name, fallback) => {
    const raw = env(name);
    const num = Number(raw);
    if (!isNaN(num)) {
        return num;
    }
    if (fallback === undefined) {
        throw new Error("Received " + raw + " for " + name + " but expected number.");
    }
    return fallback;
};
exports.NODE_ENV = requireEnv("NODE_ENV", "development");
exports.DEBUG = boolEnv("DEBUG", true);
exports.ENVIRONMENT = requireEnv("ENVIRONMENT", "development");
exports.PRODUCTION = boolEnv("PRODUCTION", false);
exports.DEBUG_CACHE = boolEnv("DEBUG_CACHE", true);
exports.APP_URL = requireEnv("APP_URL");
exports.APP_BASE_URL = requireEnv("APP_BASE_URL");
exports.APP_NAME = requireEnv("APP_NAME");
exports.APP_HOSTNAME = requireEnv("APP_HOSTNAME", "127.0.0.1");
exports.APP_PORT = numberEnv("APP_PORT", 3000);
exports.APP_VERSION = requireEnv("APP_VERSION", "0.0.1");
exports.APP_LOGGING = boolEnv("APP_LOGGING", true);
exports.MAX_FILESIZE_MB = numberEnv("MAX_FILESIZE_MB", 5);
exports.MONGODB_URL = requireEnv("MONGODB_URL");
exports.MONGODB_DATABASE = requireEnv("MONGODB_DATABASE");
exports.CONFIG = {
    server: {
        port: exports.APP_PORT,
        hostname: exports.APP_HOSTNAME,
        version: exports.APP_VERSION,
        loggingEnabled: exports.APP_LOGGING,
        max_file_size: exports.MAX_FILESIZE_MB * 1024 * 1024,
    },
    database: {
        url: exports.MONGODB_URL,
        salt_work_factor: 10,
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7OztHQVlHOzs7QUFFSCxvREFBb0Q7QUFDcEQsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRXpCLE1BQU0sT0FBTyxHQUFHLENBQUksQ0FBSSxFQUFxQyxFQUFFLENBQzNELENBQUMsS0FBSyxTQUFTLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQztBQUVsQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQixNQUFNLFNBQVMsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztBQUVqQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQVksRUFBc0IsRUFBRTtJQUM3QyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRTlCLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFZLEVBQUUsUUFBa0IsRUFBVyxFQUFFO0lBQzFELE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUV0QixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2YsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRCxNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7SUFFeEMsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssYUFBYSxDQUFDLEVBQUU7UUFDL0MsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVELElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLGFBQWEsQ0FBQyxFQUFFO1FBQ2hELE9B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